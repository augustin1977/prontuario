{% extends "base.html" %}
{% block 'titulo' %}
   Detalhes Documento
{% endblock %}
{% block 'menu' %}
{% include 'menu.html' %}
{% endblock %}
{% block 'conteudo' %} 
    <h1>Editar Documento</h1>

    {% if messages %}
        <ul>
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div>
            <label for="titulo">Título:</label>
            <input type="text" id="titulo" name="titulo" value="{{ documento.titulo }}" required>
        </div>

        <div>
            <label for="resumo">Resumo:</label>
            <textarea id="resumo" name="resumo" rows="4">{{ documento.resumo }}</textarea>
        </div>

        <div>
            <label for="data_documento">Data do Documento:</label>
            <input type="date" id="data_documento" name="data_documento" value="{{ documento.data_documento|date:'Y-m-d' }}" required>
        </div>

        <div>
            <label for="arquivo">Arquivo:</label>
            <input type="file" id="arquivo" name="arquivo">
            {% if documento.arquivo %}
                <p>Arquivo atual: <a href="{{ documento.arquivo.url }}" target="_blank">Baixar</a></p>
            {% endif %}
        </div>

        <div>
            <label for="secreto">Arquivo privado?:</label>
            {% if documento.secreto%}
            <input type="checkbox" id="secreto" name="secreto" checked>
            {% else %}
            <input type="checkbox" id="secreto" name="secreto">
            {% endif %}
        </div>

        <div>
            <button type="submit">Salvar Alterações</button>
        </div>
    </form>

    <a href="{% url 'listar_documentos' %}">Voltar</a>
    {% endblock  %} 